const e={nome:document.getElementById("nome"),email:document.getElementById("email"),assunto:document.getElementById("assunto"),conteudo:document.getElementById("conteudo"),submit:document.getElementById("btn-submit"),messages:document.getElementById("messages")},n={erro_nome:document.querySelector("#msg_name"),erro_email:document.querySelector("#msg_email"),erro_assunto:document.querySelector("#msg_subject"),erro_conteudo:document.querySelector("#msg_content")};e.submit.addEventListener("click",l=>{l.preventDefault(),e.submit.setAttribute("disabled",!0),e.submit.classList.add("disabled");const o=new XMLHttpRequest;o.onload=()=>{let t=null;try{t=JSON.parse(o.responseText)}catch{console.error("Could not parse JSON!")}console.log(t),t&&r(t)};const u=`nome=${e.nome.value}&email=${e.email.value}&assunto=${e.assunto.value}&conteudo=${e.conteudo.value}`;o.open("post","form-validate.php"),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(u);function r(t){if(console.log(t),setTimeout(()=>{e.submit.removeAttribute("disabled"),e.submit.classList.remove("disabled"),e.messages.style.display="none"},5e3),t.ok){for(;e.messages.childElementCount>0;)e.messages.removeChild(e.messages.lastElementChild);e.nome.value="",e.email.value="",e.assunto.value="",e.conteudo.value="",n.erro_nome.textContent="",n.erro_email.textContent="",n.erro_assunto.textContent="",n.erro_conteudo.textContent="",t.mensagens.forEach(c=>{const m=document.createElement("li");m.textContent=c,e.messages.appendChild(m),m.style.cursor="auto"}),e.messages.classList.add("sucesso"),e.messages.classList.remove("erro"),e.messages.style.display="block",document.getElementById("contact").scrollIntoView()}else e.messages.style.display="none",n.erro_nome.textContent=t.msg_name,n.erro_email.textContent=t.msg_email,n.erro_assunto.textContent=t.msg_subject,n.erro_conteudo.textContent=t.msg_content}});let a=document.getElementById("menu"),s=document.querySelector("#nav-button");a.style.display="none";document.getElementsByTagName("body")[0].addEventListener("click",l=>{a.style.display==="block"&&l.target.id!="nav-button"&&(a.style.display="none",d())});function d(){s.classList.remove("close-button"),s.innerHTML="",s.classList.add("icon-bars")}s.addEventListener("click",l=>{a.style.display==="none"?(a.style.display="block",console.log(s),s.classList.remove("icon-bars"),s.innerHTML="&times;",s.classList.add("close-button")):(a.style.display="none",d())});let i=document.querySelector(".icon-top");i.style.display="none";window.addEventListener("scroll",function(l){this.scrollY;let o=document.getElementById("about").offsetTop;this.scrollY<o-120?document.querySelector(".icon-top").style.display="none":document.querySelector(".icon-top").style.display="block"});i.addEventListener("click",l=>{const o=window.location.origin;window.location.href=`${o}/#welcome`});
